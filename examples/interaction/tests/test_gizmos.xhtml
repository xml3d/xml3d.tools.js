<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd" >
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Gizmos Test</title>
  <link rel="stylesheet" type="text/css" media="all" href="../../style/default.css" />

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script type="text/javascript" src="../../external/xml3d.js"></script>
  <script type="text/javascript" src="../../external/eyelightShader.js"></script>
  <script type="text/javascript" src="../../../build/output/xml3d.tools.js"></script>
  <script type="text/javascript" src="../page.js" />

  <script type="text/javascript" src="test_gizmos.js"></script>
</head>
<body>
<div id="overall">
    <div id="content">
      <h1>Gizmos Test</h1>

      <xml3d id="xml3dMain" style="width:640px;height:480px;background-color: #aaaaff;"
        activeView="#v_camera">
        <defs>
          <data id="d_rectangle">
                <int id="indices" name="index">0 1 2 1 2 3</int>
                <float3 id="positions" name="position">-1.0 -1.0 0.0 1.0 -1.0 0.0 -1.0 1.0 0.0 1.0 1.0 0.0</float3>
                <float3 name="normal">0.0 0.0 1.0 0.0 0.0 1.0 0.0 0.0 1.0 0.0 0.0 1.0</float3>
                <float2 id="texcoords" name="texcoord">0.0 1.0 1.0 1.0 0.0 0.0 1.0 0.0</float2>
          </data>

          <shader id="s_rectangle" script="urn:xml3d:shader:phong">
            <float3 name="diffuseColor">0.8 0.8 0.8</float3>
            <float name="ambientIntensity">1</float>
          </shader>
          <transform id="t_mainTargetParentParent" rotation="1 0 1 -0.4" />
          <transform id="t_mainTargetParent" translation="0 0 -10" rotation="0 1 0 -0.5" scale="0.01 0.01 0.01"/>
          <transform id="t_mainTarget" scale="300 200 200" translation="2 0 0" rotation="1 1 0 0.5" />
          <transform id="t_camera"
                     rotation="-0.09110504 0.994380414 0.053919807 1.073698264"
                     translation="26.7296199798584 4.267266750335693 5.452800273895264"/>
        </defs>
        <group transform="#t_mainTargetParentParent">
            <group transform="#t_mainTargetParent">
              <group id="g_mainTarget" shader="#s_rectangle" transform="#t_mainTarget">
                <mesh type="triangles" src="#d_rectangle" />
              </group>
            </group>
        </group>

        <group id="g_camera" transform="#t_camera">
          <view position="0 0 10" id="v_camera" />
        </group>
      </xml3d>

      <div>
        <span>
          <input type="radio" name="gizmotype" value="translate" checked="true" />
          Translate
        </span>
        <span>
          <input type="radio" name="gizmotype" value="rotate" />
          Rotate
        </span>
        <span>
          <input type="radio" name="gizmotype" value="none" />
          None
        </span>
      </div>
      <div>
        Rotation speed: <input type="text" id="i_rotationSpeed" value="1" size="1"/>
      </div>
  </div>
</div>
</body>
</html>
